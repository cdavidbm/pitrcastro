function g(e,t,a="vertical"){const o=t.indexOf(e.target);if(o===-1)return null;const n=a==="vertical"?"ArrowDown":"ArrowRight",i=a==="vertical"?"ArrowUp":"ArrowLeft";let c=null;switch(e.key){case n:e.preventDefault(),c=(o+1)%t.length;break;case i:e.preventDefault(),c=(o-1+t.length)%t.length;break;case"Home":e.preventDefault(),c=0;break;case"End":e.preventDefault(),c=t.length-1;break}return c}let l=null;function u(e,t){l?.abort(),l=new AbortController,document.addEventListener("keydown",a=>{a.key==="Escape"&&e.getAttribute("aria-expanded")==="true"&&(t(),e.focus())},{signal:l.signal})}function d(){const e=document.getElementById("wcag-widget");if(!e||e.hasAttribute("data-wcag-initialized"))return;e.setAttribute("data-wcag-initialized","true");const t=e.querySelector(".wcag-widget__toggle"),a=document.getElementById("wcag-panel"),o=e.querySelector(".wcag-widget__close");let n=100;t?.addEventListener("click",()=>{const i=t.getAttribute("aria-expanded")==="true";t.setAttribute("aria-expanded",(!i).toString()),a?.toggleAttribute("hidden",i)}),o?.addEventListener("click",()=>{t?.setAttribute("aria-expanded","false"),a?.setAttribute("hidden","")}),e.addEventListener("click",i=>{const r=i.target.closest("[data-action]");if(r)switch(r.dataset.action){case"font-increase":n=Math.min(n+10,150),document.documentElement.style.fontSize=`${n}%`;break;case"font-decrease":n=Math.max(n-10,80),document.documentElement.style.fontSize=`${n}%`;break;case"font-reset":n=100,document.documentElement.style.fontSize="100%";break;case"contrast-toggle":{document.documentElement.classList.toggle("high-contrast");const s=r.getAttribute("aria-pressed")==="true";r.setAttribute("aria-pressed",(!s).toString());break}case"grayscale-toggle":{document.documentElement.classList.toggle("grayscale");const s=r.getAttribute("aria-pressed")==="true";r.setAttribute("aria-pressed",(!s).toString());break}case"underline-toggle":{document.documentElement.classList.toggle("underline-links");const s=r.getAttribute("aria-pressed")==="true";r.setAttribute("aria-pressed",(!s).toString());break}case"reset-all":n=100,document.documentElement.style.fontSize="100%",document.documentElement.classList.remove("high-contrast","grayscale","underline-links"),e.querySelectorAll("[aria-pressed]").forEach(s=>{s.setAttribute("aria-pressed","false")});break}}),t&&u(t,()=>{t.setAttribute("aria-expanded","false"),a?.setAttribute("hidden","")})}d();document.addEventListener("astro:after-swap",d);export{g as h};
